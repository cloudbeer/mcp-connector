# MCP Connector Frontend TODO

## 🎯 当前状态
- ✅ 基础架构搭建 (React + TypeScript + Ant Design)
- ✅ 认证系统 (API Key 登录)
- ✅ 路由和布局
- ✅ Dashboard 页面 (增强版，包含统计图表)
- ✅ API Keys 管理页面 (完整 CRUD)
- ✅ MCP Tools 管理页面 (列表、创建、状态切换)
- ✅ Server Groups 管理页面 (列表、创建、使用统计)

## 📋 待完成任务

### 🔥 高优先级 (MVP 功能)

#### 1. MCP Tools 管理页面增强 ✅
- ✅ **工具列表页面**
  - ✅ 工具列表展示 (Table)
  - ✅ 按分组筛选
  - ✅ 启用/禁用状态切换
  - ✅ 连接类型标识 (stdio/http/sse)
  - ✅ 工具状态指示器

- ✅ **创建工具表单**
  - ✅ 基本信息 (名称、描述)
  - ✅ 连接类型选择
  - ✅ stdio 配置 (command, args, env)
  - ✅ HTTP/SSE 配置 (url, headers)
  - ✅ 高级配置 (timeout, retry, auto_approve)
  - ✅ 表单验证

- ✅ **编辑工具功能**
  - ✅ 编辑表单 (复用创建表单逻辑)
  - ✅ 工具详情查看
  - ✅ 删除确认

- ✅ **批量导入功能**
  - ✅ JSON 配置解析和验证
  - ✅ 重名自动处理 (添加后缀)
  - ✅ 分步导入流程 (输入→预览→结果)
  - ✅ 导入结果统计和详情展示
  - ✅ 容量检查和错误处理

#### 2. Server Groups 管理页面增强 ✅
- ✅ **分组列表页面**
  - ✅ 分组列表展示
  - ✅ 工具数量统计
  - ✅ 分组状态管理
  - ✅ 使用率可视化

- ✅ **分组管理功能**
  - ✅ 创建分组
  - ✅ 编辑分组
  - ✅ 删除分组 (检查是否有关联工具)

#### 3. Assistants 管理页面 ✅
- [x] **助手列表页面**
  - [x] 助手列表展示 (Table)
  - [x] 按类型筛选 (专用/通用)
  - [x] 启用/禁用状态切换
  - [x] 工具数量统计

- [x] **创建助手表单**
  - [x] 基本信息 (名称、描述)
  - [x] 类型选择 (专用/通用)
  - [x] 专用助手工具选择
  - [x] 通用助手配置 (意图模型、最大工具数)
  - [x] 表单验证

- [x] **编辑助手功能**
  - [x] 编辑表单 (复用创建表单逻辑)
  - [x] 助手详情查看
  - [x] 删除确认

- [x] **工具管理功能**
  - [x] 添加/移除工具
  - [x] 工具优先级调整
  - [x] 工具列表可视化
  - [x] 批量编辑工具

#### 4. API Keys 页面增强 ✅
- [x] **助手绑定功能**
  - [x] 显示绑定的助手列表
  - [x] 添加/移除助手绑定
  - [x] 批量操作

- [ ] **使用统计展示**
  - [ ] 统计图表 (调用次数、成功率)
  - [ ] 使用日志表格
  - [ ] 时间范围筛选

### 🎨 中优先级 (用户体验)

#### 4. Dashboard 增强 ✅
- ✅ **实时数据更新**
  - ✅ 统计数据展示
  - ✅ 系统状态监控
  - ✅ 最近活动展示

- ✅ **图表和可视化**
  - ✅ 连接类型分布
  - ✅ 分组使用率
  - ✅ 工具状态统计

#### 5. 用户体验优化 🚧
- ✅ **响应式设计**
  - ✅ 移动端适配
  - ✅ 平板端优化
  - ✅ 触摸友好的交互

- [ ] **加载和错误状态**
  - [ ] 骨架屏加载
  - [ ] 错误边界处理
  - [ ] 网络错误重试

- ✅ **操作反馈**
  - ✅ 操作确认对话框
  - ✅ 成功/失败提示优化
  - ✅ 进度指示器

#### 6. 搜索和筛选 🔄
- ✅ **基础筛选**
  - ✅ 按分组筛选工具
  - ✅ 包含/排除禁用项

- [ ] **高级筛选**
  - [ ] 多条件筛选
  - [ ] 筛选器保存
  - [ ] 快速筛选标签

### 🔧 低优先级 (高级功能)

#### 7. 系统设置 ⚙️
- [ ] **用户偏好设置**
  - [ ] 主题切换 (亮色/暗色)
  - [ ] 语言切换
  - [ ] 时区设置

- [ ] **系统配置**
  - [ ] API 超时设置
  - [ ] 刷新间隔配置
  - [ ] 通知设置

#### 8. 高级功能 🚀
- [ ] **批量操作**
  - [ ] 批量启用/禁用工具
  - [ ] 批量删除
  - [ ] 导入/导出配置

- [ ] **监控和告警**
  - [ ] 工具健康状态监控
  - [ ] 异常告警
  - [ ] 性能指标

#### 9. 开发者功能 🛠️
- [ ] **API 测试工具**
  - [ ] 内置 API 测试器
  - [ ] 请求/响应查看器
  - [ ] 调试信息

- [ ] **日志查看器**
  - [ ] 实时日志流
  - [ ] 日志筛选和搜索
  - [ ] 日志导出

## 🎯 当前开发重点

### 本周目标 ✅
1. ✅ 完成 MCP Tools 管理页面
2. ✅ 完成 Server Groups 管理页面
3. ✅ 实现 Assistants 管理页面

### 下周目标 🔄
1. 🔄 增强 API Keys 页面功能 (助手绑定、统计)
2. 🔄 添加更多用户体验优化
3. 🔄 实现多平台 API 兼容功能

## 📝 开发注意事项

### 代码规范
- ✅ 遵循 TypeScript 严格模式
- ✅ 使用 Ant Design 组件
- ✅ 保持组件的可复用性
- ✅ 添加适当的错误处理

### 性能优化
- ✅ 使用 React.memo 优化重渲染
- [ ] 实现虚拟滚动 (大列表)
- [ ] 图片懒加载
- [ ] 代码分割

### 测试要求
- [ ] 关键组件单元测试
- [ ] 用户交互集成测试
- [ ] 错误场景测试
- [ ] 跨浏览器兼容性测试

## 🐛 已知问题

### 待修复
- [ ] 长文本在小屏幕上的显示问题
- [ ] 表单验证错误信息国际化
- [ ] 深色主题下的颜色对比度

### 已修复
- ✅ 认证状态管理问题
- ✅ API 调用重复问题
- ✅ 路由跳转逻辑
- ✅ Axios 导入问题 (改用 fetch)
- ✅ MCP Tools 编辑功能未实现
- ✅ Server Groups 编辑/删除功能未实现

## 📚 技术债务

- [ ] 重构 API 服务层，添加更好的类型支持
- [ ] 优化组件结构，减少嵌套层级
- [ ] 添加更完善的错误边界
- [ ] 改进状态管理架构
- ✅ 使用原生 fetch 替代 axios

## 🎉 最新完成

### 2025-07-13 更新 (最新)
- ✅ **Assistants 管理页面**：助手列表、创建表单、工具关联
- ✅ **助手类型支持**：专用助手和通用全域助手
- ✅ **工具关联管理**：添加/移除工具、优先级调整
- ✅ **批量工具编辑**：使用 Transfer 组件实现批量工具选择
- ✅ **助手详情页面**：查看助手详情、管理工具关联
- ✅ **助手编辑页面**：编辑助手基本信息和配置

### 2025-07-11 更新 (最新)
- ✅ **批量导入工具功能**：支持 JSON 配置粘贴导入
- ✅ **智能重名处理**：自动检测并重命名重复工具
- ✅ **分步导入流程**：输入验证→预览确认→结果展示
- ✅ **容量管理**：检查服务器组容量限制
- ✅ **详细结果反馈**：导入统计、重命名记录、错误信息

### 2025-07-11 更新 (早期)
- ✅ **Server Groups 完整功能**：编辑分组、删除分组、容量检查
- ✅ **后端 API 完善**：服务器分组的完整 CRUD API
- ✅ **前端服务集成**：完整的分组管理功能
- ✅ **数据验证增强**：分组容量检查、工具数量限制

### 2025-07-11 更新 (更早期)
- ✅ **MCP Tools 编辑和删除功能**：完整的工具编辑表单、删除确认
- ✅ **后端 API 增强**：工具更新、删除、详情查看 API
- ✅ **数据处理优化**：修复 JSON 字段解析问题
- ✅ **前端服务集成**：完整的 CRUD 操作集成

### 2025-07-10 更新
- ✅ **MCP Tools 管理页面**：完整的工具列表、创建表单、状态管理
- ✅ **Server Groups 管理页面**：分组管理、使用统计、可视化
- ✅ **Dashboard 增强**：丰富的统计图表、最近活动、系统状态
- ✅ **响应式设计**：全面的移动端和平板端适配
- ✅ **用户体验**：更好的加载状态、操作反馈、视觉设计

---

**更新时间**: 2025-07-10
**当前版本**: 0.1.0
**负责人**: Frontend Team
